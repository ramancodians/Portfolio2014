ninjApp.controller("worksController",function(e,t,n,r){function a(){s=!1}r.setTitle("Works |Â Alexis Bertin");setTimeout(function(){TweenLite.to(".works .alphaTransi",.4,{y:"0",opacity:"1",ease:Quart.easeOut})},1e3);TweenLite.to(".overlay",0,{background:"rgba(0,0,0,.6)"});TweenLite.to(".background",0,{opacity:"0"});TweenLite.to(".works-content",0,{y:"-20",ease:Quart.easeOut});t.get("views/worksData.json").success(function(t){e.works=t}).error(function(e){console.log(e)});var i="",s=!1,o=["darthVader","gifMePlz","portfolio2013","oweme","usaFlight","commeChezSoi","portfolio2012","plasticSurgery","anchl"];workPage=document.URL.split("#");var u=workPage.length;if(u>1){workPage=workPage[1];var i=workPage;console.log("oldWorkPage: "+i);TweenLite.to(".works",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works",0,{display:"none"});TweenLite.to(".works-content",0,{display:"block",onComplete:function(){TweenLite.to(".works-content",.4,{opacity:"1",y:"0",ease:Quart.easeOut})}});TweenLite.to(".works-content #works---"+workPage,0,{display:"block",onComplete:function(){TweenLite.to(".works-content #works---"+workPage,.4,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+workPage).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPage).className=e;var t=o.indexOf(workPage)+1;document.getElementById("works--nav").setAttribute("data-workpage",t);document.getElementById("works---count").innerHTML=Number(t).toString(2);document.getElementById("works---length").innerHTML=Number(o.length).toString(2)}})}})}window.history&&window.history.pushState&&!s&&$(window).on("popstate",function(){s=!0;setTimeout(a,200);var e=window.location.hash,t=e.replace("#",""),n=o.indexOf(t)+1;document.getElementById("works--nav").setAttribute("data-workpage",n);document.getElementById("works---count").innerHTML=Number(n).toString(2);document.getElementById("works---length").innerHTML=Number(o.length).toString(2);if(e==="")TweenLite.to(".works-content #works---"+t,.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+t,0,{display:"none"});TweenLite.to(".works-content",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content",0,{display:"none"});TweenLite.to(".works",0,{display:"block",onComplete:function(){TweenLite.to(".works",.4,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=e;i=""}})}})}});else if(e!=="")if(i=="")TweenLite.to(".works",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works",0,{display:"none"});TweenLite.to(".works-content",0,{display:"block",onComplete:function(){TweenLite.to(".works-content",.4,{opacity:"1",y:"0",ease:Quart.easeOut})}});r=document.getElementById("works---"+t).className.replace("ng-hide","ng-show");document.getElementById("works---"+t).className=r;TweenLite.to(".works-content #works---"+t,0,{display:"block",onComplete:function(){window.scrollTo(0,0);TweenLite.to(".works-content #works---"+t,.4,{opacity:"1",y:"0",ease:Quart.easeOut});i=t}})}});else if(i!==""){var r=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=r;TweenLite.to(".works-content #works---"+i,.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+i,0,{display:"none"});TweenLite.to(".works-content #works---"+t,0,{display:"block",onComplete:function(){window.scrollTo(0,0);TweenLite.to(".works-content #works---"+t,.4,{opacity:"1",y:"0",ease:Quart.easeOut});r=document.getElementById("works---"+t).className.replace("ng-hide","ng-show");document.getElementById("works---"+t).className=r;i=t}})}})}});e.worksClose=function(){console.log("Close !");var e=window.location.hash,t=e.replace("#","");document.getElementById("works--nav").setAttribute("data-workpage",0);TweenLite.to(".works-content #works---"+t,.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+t,0,{display:"none"});TweenLite.to(".works-content",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content",0,{display:"none"});TweenLite.to(".works",0,{display:"block",onComplete:function(){TweenLite.to(".works",.4,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=e;i=""}})}})}});history.pushState(null,null,"/works")};e.worksNext=function(){workPageId=document.getElementById("works--nav").getAttribute("data-workpage");workPage=o[workPageId-1];workPageId==o.length?workPageNext=o[0]:workPageNext=o[workPageId];TweenLite.to(".works-content #works---"+workPage,.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+workPage,0,{display:"none"});var e=document.getElementById("works---"+workPage).className.replace("ng-show","ng-hide");document.getElementById("works---"+workPage).className=e;TweenLite.to(".works-content #works---"+workPageNext,0,{display:"block",onComplete:function(){e=document.getElementById("works---"+workPageNext).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPageNext).className=e;window.scrollTo(0,0);TweenLite.to(".works-content #works---"+workPageNext,.4,{opacity:"1",y:"0",ease:Quart.easeOut});i=workPageNext;var t=o.indexOf(workPageNext)+1;document.getElementById("works--nav").setAttribute("data-workpage",t);document.getElementById("works---count").innerHTML=Number(t).toString(2);document.getElementById("works---length").innerHTML=Number(o.length).toString(2)}})}});history.pushState(null,null,"/works#"+workPageNext)};e.worksPrev=function(){workPageId=document.getElementById("works--nav").getAttribute("data-workpage");workPage=o[workPageId-1];workPageId==1?workPagePrev=o[o.length-1]:workPagePrev=o[workPageId-2];TweenLite.to(".works-content #works---"+workPage,.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+workPage,0,{display:"none"});var e=document.getElementById("works---"+workPage).className.replace("ng-show","ng-hide");document.getElementById("works---"+workPage).className=e;TweenLite.to(".works-content #works---"+workPagePrev,0,{display:"block",onComplete:function(){e=document.getElementById("works---"+workPagePrev).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPagePrev).className=e;window.scrollTo(0,0);TweenLite.to(".works-content #works---"+workPagePrev,.4,{opacity:"1",y:"0",ease:Quart.easeOut});i=workPagePrev;var t=o.indexOf(workPagePrev)+1;document.getElementById("works--nav").setAttribute("data-workpage",t);document.getElementById("works---count").innerHTML=Number(t).toString(2);document.getElementById("works---length").innerHTML=Number(o.length).toString(2)}})}});history.pushState(null,null,"/works#"+workPagePrev)};$("body").keydown(function(e){var t=window.location.hash,n=t.replace("#","");(e.keyCode==37&&n!=""||e.keyCode==39&&n!=""||e.keyCode==27&&n!="")&&$(".works--arrow").addClass("opacity");if(e.keyCode==37&&n!=""){$(".works--arrow .works---arrowPrev").addClass("works--arrowHover");$(".works--arrow .works---arrowPrev span svg").css("fill","#000")}else if(e.keyCode==39&&n!=""){$(".works--arrow .works---arrowNext").addClass("works--arrowHover");$(".works--arrow .works---arrowNext span svg").css("fill","#000")}else if(e.keyCode==27&&n!=""){$(".works--arrow .works---close").addClass("works--arrowHover");TweenLite.to("#works---count, #works---length",0,{opacity:"0"});TweenLite.to("#works---iconClose",0,{opacity:"1"})}});$("body").keyup(function(t){var n=window.location.hash,r=n.replace("#","");(t.keyCode==37&&r!=""||t.keyCode==39&&r!=""||t.keyCode==27&&r!="")&&$(".works--arrow").removeClass("opacity");if(t.keyCode==37&&r!=""){$(".works--arrow .works---arrowPrev").removeClass("works--arrowHover");$(".works--arrow .works---arrowPrev span svg").css("fill","#f9e30b");e.worksPrev()}else if(t.keyCode==39&&r!=""){$(".works--arrow .works---arrowNext").removeClass("works--arrowHover");$(".works--arrow .works---arrowNext span svg").css("fill","#f9e30b");e.worksNext()}else if(t.keyCode==27&&r!=""){$(".works--arrow .works---close").removeClass("works--arrowHover");TweenLite.to("#works---count, #works---length",0,{opacity:"1"});TweenLite.to("#works---iconClose",0,{opacity:"0"});e.worksClose()}})});