ninjApp.controller("worksController",function(e,t,n,r){function a(){s=!1}r.setTitle("Works |Â Alexis Bertin");TweenLite.to(".overlay",.2,{background:"rgba(0,0,0,.4)"});TweenLite.to(".background",.2,{opacity:"0"});TweenLite.to(".works-content",.2,{y:"-20",ease:Quart.easeOut});t.get("views/worksData.json").success(function(t){e.works=t}).error(function(e){console.log(e)});var i="",s=!1,o=["darthVader","gifMePlz","portfolio2013","oweme","usaFlight","commeChezSoi","portfolio2012","plasticSurgery","anchl"];workPage=document.URL.split("#");var u=workPage.length;if(u>1){workPage=workPage[1];var i=workPage;console.log("oldWorkPage: "+i);TweenLite.to(".works",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works",0,{display:"none"});TweenLite.to(".works-content",.2,{display:"block",onComplete:function(){TweenLite.to(".works-content",.2,{opacity:"1",y:"0",ease:Quart.easeOut})}});TweenLite.to(".works-content #works---"+workPage,0,{display:"block",onComplete:function(){TweenLite.to(".works-content #works---"+workPage,.2,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+workPage).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPage).className=e;var t=o.indexOf(workPage)+1;document.getElementById("works--nav").setAttribute("data-workpage",t)}})}})}window.history&&window.history.pushState&&!s&&$(window).on("popstate",function(){s=!0;setTimeout(a,200);var e=window.location.hash,t=e.replace("#",""),n=o.indexOf(t)+1;document.getElementById("works--nav").setAttribute("data-workpage",n);if(e==="")TweenLite.to(".works-content #works---"+t,.2,{opacity:"0",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+t,0,{display:"none"});TweenLite.to(".works-content",.2,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content",0,{display:"none"});TweenLite.to(".works",0,{display:"block",onComplete:function(){TweenLite.to(".works",.4,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=e;i=""}})}})}});else if(e!=="")if(i=="")TweenLite.to(".works",.4,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works",0,{display:"none"});TweenLite.to(".works-content",.2,{display:"block",onComplete:function(){TweenLite.to(".works-content",.2,{opacity:"1",y:"0",ease:Quart.easeOut})}});TweenLite.to(".works-content #works---"+t,0,{display:"block",onComplete:function(){TweenLite.to(".works-content #works---"+t,.2,{opacity:"1",y:"0",ease:Quart.easeOut});r=document.getElementById("works---"+t).className.replace("ng-hide","ng-show");document.getElementById("works---"+t).className=r;i=t}})}});else if(i!==""){var r=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=r;TweenLite.to(".works-content #works---"+i,.2,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+i,0,{display:"none"});TweenLite.to(".works-content #works---"+t,0,{display:"block",onComplete:function(){TweenLite.to(".works-content #works---"+t,.2,{opacity:"1",y:"0",ease:Quart.easeOut});r=document.getElementById("works---"+t).className.replace("ng-hide","ng-show");document.getElementById("works---"+t).className=r;i=t}})}})}});e.worksClose=function(){console.log("Close !");var e=window.location.hash,t=e.replace("#","");document.getElementById("works--nav").setAttribute("data-workpage",0);TweenLite.to(".works-content #works---"+t,.2,{opacity:"0",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+t,0,{display:"none"});TweenLite.to(".works-content",.2,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content",0,{display:"none"});TweenLite.to(".works",0,{display:"block",onComplete:function(){TweenLite.to(".works",.4,{opacity:"1",y:"0",ease:Quart.easeOut});var e=document.getElementById("works---"+i).className.replace("ng-show","ng-hide");document.getElementById("works---"+i).className=e;i=""}})}})}});history.pushState(null,null,"/works")};e.worksNext=function(){workPageId=document.getElementById("works--nav").getAttribute("data-workpage");workPage=o[workPageId-1];workPageId==o.length?workPageNext=o[0]:workPageNext=o[workPageId];TweenLite.to(".works-content #works---"+workPage,.2,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+workPage,0,{display:"none"});var e=document.getElementById("works---"+workPage).className.replace("ng-show","ng-hide");document.getElementById("works---"+workPage).className=e;TweenLite.to(".works-content #works---"+workPageNext,0,{display:"block",onComplete:function(){e=document.getElementById("works---"+workPageNext).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPageNext).className=e;TweenLite.to(".works-content #works---"+workPageNext,.2,{opacity:"1",y:"0",ease:Quart.easeOut});i=workPageNext;var t=o.indexOf(workPageNext)+1;document.getElementById("works--nav").setAttribute("data-workpage",t)}})}});history.pushState(null,null,"/works#"+workPageNext)};e.worksPrev=function(){workPageId=document.getElementById("works--nav").getAttribute("data-workpage");workPage=o[workPageId-1];workPageId==1?workPagePrev=o[o.length-1]:workPagePrev=o[workPageId-2];console.log("Next: we are on page "+workPageId+" - "+workPage);console.log("Next: we are back to "+workPageId+1+" - "+workPagePrev);TweenLite.to(".works-content #works---"+workPage,.2,{opacity:"0",y:"-20",ease:Quart.easeOut,onComplete:function(){TweenLite.to(".works-content #works---"+workPage,0,{display:"none"});var e=document.getElementById("works---"+workPage).className.replace("ng-show","ng-hide");document.getElementById("works---"+workPage).className=e;TweenLite.to(".works-content #works---"+workPagePrev,0,{display:"block",onComplete:function(){e=document.getElementById("works---"+workPagePrev).className.replace("ng-hide","ng-show");document.getElementById("works---"+workPagePrev).className=e;TweenLite.to(".works-content #works---"+workPagePrev,.2,{opacity:"1",y:"0",ease:Quart.easeOut});i=workPagePrev;var t=o.indexOf(workPagePrev)+1;document.getElementById("works--nav").setAttribute("data-workpage",t)}})}});history.pushState(null,null,"/works#"+workPagePrev)}});